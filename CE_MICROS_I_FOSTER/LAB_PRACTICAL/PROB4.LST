E:\MICROS_1\LAB_PRACTICAL\prob4.lst - generated by MGTEK Assembler ASM12 V1.26 Build 144 for WIN32 (x86) - Tue Nov 11 09:04:55 2008

    1:                                      *  This program has been written to test your debugging skills.
    2:                                      *  You don't need to know what the program or the instructions
    3:                                      *  contained within it do.
    4:                                      *
    5:          =00001F20                   testkey equ     $1F20
    6:          =00001100                   target  equ     $1100
    7:                                      
    8:          =00003000                           org     $3000
    9:     3000 +0001                       count   ds.b    1       
   10:     3001 +0001                       value   ds.b    1
   11:                                      
   12:                                      
   13:          =00002000                           org     $2000
   14:     2000 CF 3C00                [02]         lds     #$3C00
   15:     2003 86 0A                  [01]         ldaa    #10
   16:     2005 7A 3000                [03]         staa    count
   17:     2008 C7                     [01]         clrb
   18:     2009 86 41                  [01]         ldaa    #$41 
   19:     200B 1806                   [02]         aba
   20:     200D 36                     [02]         psha
   21:     200E 86 27                  [01]         ldaa    #$27 
   22:     2010 7A 3001                [03]         staa    value
   23:     2013 CE 1F20                [02]         ldx     #testkey
   24:     2016 CD 1100                [02]         ldy     #target
   25:     2019 F7 3000                [04] loop    tst     count
   26:     201C 27 16                  [03]         beq     done
   27:     201E B7 01                  [01]         tfr     A,B
   28:     2020 F6 3001                [03]         ldab    value
   29:     2023 16 204B                [04]         jsr     mcrypt
   30:     2026 6B 40                  [02]         stab    0,Y
   31:     2028 6A E8 28               [03]         staa    40,Y
   32:     202B 02                     [01]         iny
   33:     202C 72 3001                [04]         inc     value
   34:     202F 73 3000                [04]         dec     count
   35:     2032 20 E5                  [03]         bra     loop
   36:     2034 33                     [03] done    pulb
   37:     2035 16 204B                [04]         jsr      mcrypt
   38:     2038 3F                     [09]         swi
   39:                                      
   40:                                      
   41:                                      
   42:                                      
   43:                                      
   44:     2039 CE 0010                [02] permute ldx     #16
   45:     203C C5 01                  [01] perloop bitb    #%00000001
   46:     203E 27 02                  [03]         beq     noxor
   47:     2040 C8 48                  [01]         eorb    #$48
   48:     2042 56                     [01] noxor   rorb
   49:     2043 24 02                  [03]         bcc     nocbit
   50:     2045 CB 80                  [01]         addb    #$80
   51:     2047 04 35 F2               [03] nocbit  dbne    x,perloop
   52:     204A 3D                     [05]         rts
   53:                                      
   54:                                      
   55:     204B F8 1F20                [03] mcrypt  eorb    testkey
   56:     204E 16 2039                [04]         jsr     permute
   57:     2051 F8 1F21                [03]         eorb    testkey+1
   58:     2054 16 2039                [04]         jsr     permute
   59:     2057 3D                     [05]         rts

Symbols:
count                           *00003000
done                            *00002034
loop                            *00002019
mcrypt                          *0000204b
nocbit                          *00002047
noxor                           *00002042
perloop                         *0000203c
permute                         *00002039
target                          *00001100
testkey                         *00001f20
value                           *00003001

