G:\MICROS_1\LAB_05\7segdemo.lst - generated by MGTEK Assembler ASM12 V1.26 Build 144 for WIN32 (x86) - Mon Nov 24 20:16:35 2008

    1:                                 ; 7segment constants
    2:                                 
    3:                                 ; constants for DIGIT subroutine
    4:          =00000001              DIG1    EQU     %00000001 ; left digit
    5:          =00000002              DIG2    EQU     %00000010 ; 2nd from left
    6:          =00000004              DIG3    EQU     %00000100 ; 2nd from right
    7:          =00000008              DIG4    EQU     %00001000 ; right digit
    8:                                 
    9:                                 
   10:                                 ; initializes the 7 segment display
   11:                                 ; inputs - none
   12:                                 ; outputs - none
   13:                                 ; no affect on any registers
   14:          =00002800              INIT7SEG EQU    $2800
   15:                                 
   16:                                 
   17:                                 ; writes an ASCII character to the 7-segment display
   18:                                 ; inputs -  Register A: one of the 4 defined constants, by value
   19:                                 ;           to select which digit to write
   20:                                 ;           Register B: ASCII value to write, by value
   21:                                 ;           Currently, must be $30 to $39
   22:                                 ; outputs - changes 7-segment
   23:                                 ; Does not preserce registers
   24:          =00002880              DIGIT   EQU     $2880
   25:                                 
   26:                                 
   27:                                 ; Small demo of the 7-segment display
   28:          =00002200                      ORG     $2200
   29:     2200 CF 3600                        LDS     #$3600
   30:     2203 16 2800                        JSR     INIT7SEG
   31:     2206 C6 31                  Loop2   LDAB    #$31
   32:     2208 86 01                          LDAA    #DIG1
   33:     220A 16 2880                        JSR     DIGIT   
   34:     220D C6 32                          LDAB    #$32
   35:     220F 86 02                          LDAA    #DIG2
   36:     2211 16 2880                        JSR     DIGIT
   37:     2214 C6 33                          LDAB    #$33
   38:     2216 86 04                          LDAA    #DIG3
   39:     2218 16 2880                        JSR     DIGIT
   40:     221B C6 34                          LDAB    #$34
   41:     221D 86 08                          LDAA    #DIG4
   42:     221F 16 2880                        JSR     DIGIT
   43:     2222 20 E2                          BRA     Loop2
   44:                                 
   45:                                 
   46:                                 

Symbols:
dig1                            *00000001
dig2                            *00000002
dig3                            *00000004
dig4                            *00000008
digit                           *00002880
init7seg                        *00002800
loop2                           *00002206

